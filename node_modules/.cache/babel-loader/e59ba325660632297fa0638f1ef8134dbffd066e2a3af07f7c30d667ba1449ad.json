{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Guyniole\\\\Desktop\\\\reservation-salles\\\\src\\\\components\\\\AdminPanel.js\",\n  _s = $RefreshSig$();\n// src/components/AdminPanel.js\nimport React, { useState, useEffect } from 'react';\nimport googleSheetsService from '../services/googleSheetsService';\nimport emailService from '../services/emailService';\nimport { ADMINISTRATEURS, SALLES } from '../config/googleSheets';\nimport './AdminPanel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminPanel() {\n  _s();\n  var _Object$entries$sort$, _Object$entries$sort$2, _Object$entries$sort$3;\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [adminEmail, setAdminEmail] = useState('');\n  const [reservations, setReservations] = useState([]);\n  const [filteredReservations, setFilteredReservations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [filterSalle, setFilterSalle] = useState('all');\n  const [filterDate, setFilterDate] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [stats, setStats] = useState({\n    total: 0,\n    parSalle: {},\n    parService: {},\n    parObjet: {}\n  });\n  useEffect(() => {\n    if (isAuthenticated) {\n      loadAllReservations();\n    }\n  }, [isAuthenticated]);\n  useEffect(() => {\n    applyFilters();\n  }, [reservations, filterSalle, filterDate, searchTerm]);\n  const handleAuthenticate = e => {\n    e.preventDefault();\n    if (ADMINISTRATEURS.includes(adminEmail.toLowerCase())) {\n      setIsAuthenticated(true);\n      localStorage.setItem('adminEmail', adminEmail);\n    } else {\n      alert('Acc√®s refus√©. Vous n\\'√™tes pas autoris√© √† acc√©der √† cette section.');\n    }\n  };\n  const loadAllReservations = async () => {\n    setLoading(true);\n    try {\n      const allReservations = await googleSheetsService.getAllReservations();\n\n      // Trier par date\n      allReservations.sort((a, b) => {\n        const dateA = new Date(`${a.dateDebut}T${a.heureDebut}`);\n        const dateB = new Date(`${b.dateDebut}T${b.heureDebut}`);\n        return dateB - dateA;\n      });\n      setReservations(allReservations);\n      calculateStats(allReservations);\n    } catch (error) {\n      console.error('Erreur lors du chargement:', error);\n      alert('Erreur lors du chargement des r√©servations');\n    }\n    setLoading(false);\n  };\n  const calculateStats = reservations => {\n    const stats = {\n      total: reservations.length,\n      parSalle: {},\n      parService: {},\n      parObjet: {}\n    };\n    reservations.forEach(res => {\n      // Par salle\n      stats.parSalle[res.salle] = (stats.parSalle[res.salle] || 0) + 1;\n\n      // Par service\n      stats.parService[res.service] = (stats.parService[res.service] || 0) + 1;\n\n      // Par objet\n      stats.parObjet[res.objet] = (stats.parObjet[res.objet] || 0) + 1;\n    });\n    setStats(stats);\n  };\n  const applyFilters = () => {\n    let filtered = [...reservations];\n\n    // Filtre par salle\n    if (filterSalle !== 'all') {\n      filtered = filtered.filter(res => res.salle === filterSalle);\n    }\n\n    // Filtre par date\n    if (filterDate) {\n      filtered = filtered.filter(res => res.dateDebut === filterDate);\n    }\n\n    // Recherche textuelle\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      filtered = filtered.filter(res => res.nom.toLowerCase().includes(term) || res.prenom.toLowerCase().includes(term) || res.service.toLowerCase().includes(term) || res.email.toLowerCase().includes(term));\n    }\n    setFilteredReservations(filtered);\n  };\n  const handleDeleteReservation = async reservation => {\n    const raison = prompt(`Voulez-vous annuler cette r√©servation ?\\n\\n` + `Salle: ${reservation.salle}\\n` + `Date: ${reservation.dateDebut} ${reservation.heureDebut} - ${reservation.heureFin}\\n` + `Agent: ${reservation.prenom} ${reservation.nom}\\n\\n` + `Entrez une raison d'annulation (ou laissez vide):`);\n    if (raison === null) return; // Annul√©\n\n    try {\n      await googleSheetsService.deleteReservation(reservation.id);\n\n      // Envoyer email d'annulation\n      try {\n        await emailService.sendCancellation(reservation, raison || 'Annulation par l\\'administrateur');\n      } catch (emailError) {\n        console.error('Erreur email:', emailError);\n      }\n      alert('R√©servation annul√©e avec succ√®s. Un email a √©t√© envoy√© √† l\\'agent.');\n      loadAllReservations();\n    } catch (error) {\n      alert(`Erreur lors de l'annulation: ${error.message}`);\n    }\n  };\n  const exportStats = () => {\n    let csvContent = 'Statistiques de r√©servation\\n\\n';\n    csvContent += 'Total de r√©servations,' + stats.total + '\\n\\n';\n    csvContent += 'Par salle\\n';\n    Object.entries(stats.parSalle).forEach(([salle, count]) => {\n      csvContent += `${salle},${count}\\n`;\n    });\n    csvContent += '\\nPar service\\n';\n    Object.entries(stats.parService).forEach(([service, count]) => {\n      csvContent += `${service},${count}\\n`;\n    });\n    csvContent += '\\nPar objet\\n';\n    Object.entries(stats.parObjet).forEach(([objet, count]) => {\n      csvContent += `${objet},${count}\\n`;\n    });\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `statistiques_reservations_${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-auth\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDD12 Acc\\xE8s Administration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cette section est r\\xE9serv\\xE9e aux administrateurs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleAuthenticate,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email administrateur\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: adminEmail,\n              onChange: e => setAdminEmail(e.target.value),\n              placeholder: \"admin@mairie.fr\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"auth-button\",\n            children: \"Se connecter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u2699\\uFE0F Panel d'Administration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setIsAuthenticated(false);\n          localStorage.removeItem('adminEmail');\n        },\n        className: \"logout-btn\",\n        children: \"D\\xE9connexion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCCA Statistiques\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Total r\\xE9servations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-number\",\n            children: stats.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Salle la plus r\\xE9serv\\xE9e\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: ((_Object$entries$sort$ = Object.entries(stats.parSalle).sort((a, b) => b[1] - a[1])[0]) === null || _Object$entries$sort$ === void 0 ? void 0 : _Object$entries$sort$[0]) || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Service le plus actif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"stat-value\",\n            children: ((_Object$entries$sort$2 = Object.entries(stats.parService).sort((a, b) => b[1] - a[1])[0]) === null || _Object$entries$sort$2 === void 0 ? void 0 : (_Object$entries$sort$3 = _Object$entries$sort$2[0]) === null || _Object$entries$sort$3 === void 0 ? void 0 : _Object$entries$sort$3.substring(0, 30)) || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportStats,\n        className: \"export-stats-btn\",\n        children: \"\\uD83D\\uDCCA Exporter les statistiques (CSV)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD0D Filtres\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Salle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filterSalle,\n            onChange: e => setFilterSalle(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"Toutes les salles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), SALLES.map(salle => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: salle,\n              children: salle\n            }, salle, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filterDate,\n            onChange: e => setFilterDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Recherche\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            placeholder: \"Nom, email, service...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reservations-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uD83D\\uDCCB Liste des r\\xE9servations (\", filteredReservations.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Chargement...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this) : filteredReservations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Aucune r\\xE9servation trouv\\xE9e\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"admin-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Salle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Horaire\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Agent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Service\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Objet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredReservations.map(res => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: res.salle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(res.dateDebut).toLocaleDateString('fr-FR')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [res.heureDebut, \" - \", res.heureFin]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [res.prenom, \" \", res.nom]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: res.service\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: res.objet\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: res.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteReservation(res),\n                  className: \"delete-btn\",\n                  title: \"Annuler cette r\\xE9servation\",\n                  children: \"\\uD83D\\uDDD1\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 21\n              }, this)]\n            }, res.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminPanel, \"4qgp1VXflKn4F58DvoNLML66FC0=\");\n_c = AdminPanel;\nexport default AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","googleSheetsService","emailService","ADMINISTRATEURS","SALLES","jsxDEV","_jsxDEV","AdminPanel","_s","_Object$entries$sort$","_Object$entries$sort$2","_Object$entries$sort$3","isAuthenticated","setIsAuthenticated","adminEmail","setAdminEmail","reservations","setReservations","filteredReservations","setFilteredReservations","loading","setLoading","filterSalle","setFilterSalle","filterDate","setFilterDate","searchTerm","setSearchTerm","stats","setStats","total","parSalle","parService","parObjet","loadAllReservations","applyFilters","handleAuthenticate","e","preventDefault","includes","toLowerCase","localStorage","setItem","alert","allReservations","getAllReservations","sort","a","b","dateA","Date","dateDebut","heureDebut","dateB","calculateStats","error","console","length","forEach","res","salle","service","objet","filtered","filter","term","nom","prenom","email","handleDeleteReservation","reservation","raison","prompt","heureFin","deleteReservation","id","sendCancellation","emailError","message","exportStats","csvContent","Object","entries","count","blob","Blob","type","url","window","URL","createObjectURL","document","createElement","href","download","toISOString","split","body","appendChild","click","removeChild","revokeObjectURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","placeholder","required","onClick","removeItem","substring","map","toLocaleDateString","title","_c","$RefreshReg$"],"sources":["C:/Users/Guyniole/Desktop/reservation-salles/src/components/AdminPanel.js"],"sourcesContent":["// src/components/AdminPanel.js\nimport React, { useState, useEffect } from 'react';\nimport googleSheetsService from '../services/googleSheetsService';\nimport emailService from '../services/emailService';\nimport { ADMINISTRATEURS, SALLES } from '../config/googleSheets';\nimport './AdminPanel.css';\n\nfunction AdminPanel() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [adminEmail, setAdminEmail] = useState('');\n  const [reservations, setReservations] = useState([]);\n  const [filteredReservations, setFilteredReservations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [filterSalle, setFilterSalle] = useState('all');\n  const [filterDate, setFilterDate] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [stats, setStats] = useState({\n    total: 0,\n    parSalle: {},\n    parService: {},\n    parObjet: {}\n  });\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      loadAllReservations();\n    }\n  }, [isAuthenticated]);\n\n  useEffect(() => {\n    applyFilters();\n  }, [reservations, filterSalle, filterDate, searchTerm]);\n\n  const handleAuthenticate = (e) => {\n    e.preventDefault();\n    \n    if (ADMINISTRATEURS.includes(adminEmail.toLowerCase())) {\n      setIsAuthenticated(true);\n      localStorage.setItem('adminEmail', adminEmail);\n    } else {\n      alert('Acc√®s refus√©. Vous n\\'√™tes pas autoris√© √† acc√©der √† cette section.');\n    }\n  };\n\n  const loadAllReservations = async () => {\n    setLoading(true);\n    try {\n      const allReservations = await googleSheetsService.getAllReservations();\n      \n      // Trier par date\n      allReservations.sort((a, b) => {\n        const dateA = new Date(`${a.dateDebut}T${a.heureDebut}`);\n        const dateB = new Date(`${b.dateDebut}T${b.heureDebut}`);\n        return dateB - dateA;\n      });\n\n      setReservations(allReservations);\n      calculateStats(allReservations);\n    } catch (error) {\n      console.error('Erreur lors du chargement:', error);\n      alert('Erreur lors du chargement des r√©servations');\n    }\n    setLoading(false);\n  };\n\n  const calculateStats = (reservations) => {\n    const stats = {\n      total: reservations.length,\n      parSalle: {},\n      parService: {},\n      parObjet: {}\n    };\n\n    reservations.forEach(res => {\n      // Par salle\n      stats.parSalle[res.salle] = (stats.parSalle[res.salle] || 0) + 1;\n      \n      // Par service\n      stats.parService[res.service] = (stats.parService[res.service] || 0) + 1;\n      \n      // Par objet\n      stats.parObjet[res.objet] = (stats.parObjet[res.objet] || 0) + 1;\n    });\n\n    setStats(stats);\n  };\n\n  const applyFilters = () => {\n    let filtered = [...reservations];\n\n    // Filtre par salle\n    if (filterSalle !== 'all') {\n      filtered = filtered.filter(res => res.salle === filterSalle);\n    }\n\n    // Filtre par date\n    if (filterDate) {\n      filtered = filtered.filter(res => res.dateDebut === filterDate);\n    }\n\n    // Recherche textuelle\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      filtered = filtered.filter(res =>\n        res.nom.toLowerCase().includes(term) ||\n        res.prenom.toLowerCase().includes(term) ||\n        res.service.toLowerCase().includes(term) ||\n        res.email.toLowerCase().includes(term)\n      );\n    }\n\n    setFilteredReservations(filtered);\n  };\n\n  const handleDeleteReservation = async (reservation) => {\n    const raison = prompt(\n      `Voulez-vous annuler cette r√©servation ?\\n\\n` +\n      `Salle: ${reservation.salle}\\n` +\n      `Date: ${reservation.dateDebut} ${reservation.heureDebut} - ${reservation.heureFin}\\n` +\n      `Agent: ${reservation.prenom} ${reservation.nom}\\n\\n` +\n      `Entrez une raison d'annulation (ou laissez vide):`\n    );\n\n    if (raison === null) return; // Annul√©\n\n    try {\n      await googleSheetsService.deleteReservation(reservation.id);\n      \n      // Envoyer email d'annulation\n      try {\n        await emailService.sendCancellation(\n          reservation,\n          raison || 'Annulation par l\\'administrateur'\n        );\n      } catch (emailError) {\n        console.error('Erreur email:', emailError);\n      }\n\n      alert('R√©servation annul√©e avec succ√®s. Un email a √©t√© envoy√© √† l\\'agent.');\n      loadAllReservations();\n    } catch (error) {\n      alert(`Erreur lors de l'annulation: ${error.message}`);\n    }\n  };\n\n  const exportStats = () => {\n    let csvContent = 'Statistiques de r√©servation\\n\\n';\n    \n    csvContent += 'Total de r√©servations,' + stats.total + '\\n\\n';\n    \n    csvContent += 'Par salle\\n';\n    Object.entries(stats.parSalle).forEach(([salle, count]) => {\n      csvContent += `${salle},${count}\\n`;\n    });\n    \n    csvContent += '\\nPar service\\n';\n    Object.entries(stats.parService).forEach(([service, count]) => {\n      csvContent += `${service},${count}\\n`;\n    });\n    \n    csvContent += '\\nPar objet\\n';\n    Object.entries(stats.parObjet).forEach(([objet, count]) => {\n      csvContent += `${objet},${count}\\n`;\n    });\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `statistiques_reservations_${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"admin-auth\">\n        <div className=\"auth-card\">\n          <h2>üîí Acc√®s Administration</h2>\n          <p>Cette section est r√©serv√©e aux administrateurs</p>\n          \n          <form onSubmit={handleAuthenticate}>\n            <div className=\"form-group\">\n              <label>Email administrateur</label>\n              <input\n                type=\"email\"\n                value={adminEmail}\n                onChange={(e) => setAdminEmail(e.target.value)}\n                placeholder=\"admin@mairie.fr\"\n                required\n              />\n            </div>\n            <button type=\"submit\" className=\"auth-button\">\n              Se connecter\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-panel\">\n      <div className=\"admin-header\">\n        <h2>‚öôÔ∏è Panel d'Administration</h2>\n        <button onClick={() => {\n          setIsAuthenticated(false);\n          localStorage.removeItem('adminEmail');\n        }} className=\"logout-btn\">\n          D√©connexion\n        </button>\n      </div>\n\n      <div className=\"stats-section\">\n        <h3>üìä Statistiques</h3>\n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <h4>Total r√©servations</h4>\n            <p className=\"stat-number\">{stats.total}</p>\n          </div>\n          \n          <div className=\"stat-card\">\n            <h4>Salle la plus r√©serv√©e</h4>\n            <p className=\"stat-value\">\n              {Object.entries(stats.parSalle).sort((a, b) => b[1] - a[1])[0]?.[0] || 'N/A'}\n            </p>\n          </div>\n          \n          <div className=\"stat-card\">\n            <h4>Service le plus actif</h4>\n            <p className=\"stat-value\">\n              {Object.entries(stats.parService).sort((a, b) => b[1] - a[1])[0]?.[0]?.substring(0, 30) || 'N/A'}\n            </p>\n          </div>\n        </div>\n        \n        <button onClick={exportStats} className=\"export-stats-btn\">\n          üìä Exporter les statistiques (CSV)\n        </button>\n      </div>\n\n      <div className=\"filters-section\">\n        <h3>üîç Filtres</h3>\n        <div className=\"filters-grid\">\n          <div className=\"filter-group\">\n            <label>Salle</label>\n            <select value={filterSalle} onChange={(e) => setFilterSalle(e.target.value)}>\n              <option value=\"all\">Toutes les salles</option>\n              {SALLES.map(salle => (\n                <option key={salle} value={salle}>{salle}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"filter-group\">\n            <label>Date</label>\n            <input\n              type=\"date\"\n              value={filterDate}\n              onChange={(e) => setFilterDate(e.target.value)}\n            />\n          </div>\n          \n          <div className=\"filter-group\">\n            <label>Recherche</label>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Nom, email, service...\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"reservations-section\">\n        <h3>üìã Liste des r√©servations ({filteredReservations.length})</h3>\n        \n        {loading ? (\n          <div className=\"loading-container\">\n            <div className=\"spinner\"></div>\n            <p>Chargement...</p>\n          </div>\n        ) : filteredReservations.length === 0 ? (\n          <div className=\"no-data\">\n            <p>Aucune r√©servation trouv√©e</p>\n          </div>\n        ) : (\n          <div className=\"admin-table-container\">\n            <table className=\"admin-table\">\n              <thead>\n                <tr>\n                  <th>Salle</th>\n                  <th>Date</th>\n                  <th>Horaire</th>\n                  <th>Agent</th>\n                  <th>Service</th>\n                  <th>Objet</th>\n                  <th>Email</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredReservations.map(res => (\n                  <tr key={res.id}>\n                    <td>{res.salle}</td>\n                    <td>{new Date(res.dateDebut).toLocaleDateString('fr-FR')}</td>\n                    <td>{res.heureDebut} - {res.heureFin}</td>\n                    <td>{res.prenom} {res.nom}</td>\n                    <td>{res.service}</td>\n                    <td>{res.objet}</td>\n                    <td>{res.email}</td>\n                    <td>\n                      <button\n                        onClick={() => handleDeleteReservation(res)}\n                        className=\"delete-btn\"\n                        title=\"Annuler cette r√©servation\"\n                      >\n                        üóëÔ∏è\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default AdminPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}