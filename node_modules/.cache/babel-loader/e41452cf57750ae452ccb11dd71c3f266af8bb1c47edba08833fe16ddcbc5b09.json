{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Guyniole\\\\Desktop\\\\reservation-salles\\\\src\\\\components\\\\ReservationGrid.js\",\n  _s = $RefreshSig$();\n// src/components/ReservationGrid.js\nimport React, { useState, useEffect } from 'react';\nimport googleSheetsService from '../services/googleSheetsService';\nimport emailService from '../services/emailService';\nimport { SALLES, SERVICES, OBJETS_RESERVATION, HORAIRES } from '../config/googleSheets';\nimport './ReservationGrid.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReservationGrid({\n  selectedDate,\n  onBack,\n  onSuccess\n}) {\n  _s();\n  const [reservations, setReservations] = useState([]);\n  const [selection, setSelection] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [formData, setFormData] = useState({\n    nom: '',\n    prenom: '',\n    email: '',\n    service: '',\n    objet: '',\n    recurrence: false,\n    recurrenceJusquau: ''\n  });\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    loadReservations();\n  }, [selectedDate]);\n  const loadReservations = async () => {\n    try {\n      const allReservations = await googleSheetsService.getAllReservations();\n      const dateStr = googleSheetsService.formatDate(selectedDate);\n\n      // Filtrer les r√©servations pour la date s√©lectionn√©e\n      const dayReservations = allReservations.filter(res => res.dateDebut === dateStr || res.dateDebut <= dateStr && res.dateFin >= dateStr);\n      setReservations(dayReservations);\n      setLoading(false);\n    } catch (error) {\n      console.error('Erreur lors du chargement des r√©servations:', error);\n      setLoading(false);\n    }\n  };\n  const isSlotReserved = (salle, hour) => {\n    return reservations.some(res => {\n      if (res.salle !== salle) return false;\n      const startHour = parseInt(res.heureDebut.split(':')[0]);\n      const endHour = parseInt(res.heureFin.split(':')[0]);\n      return hour >= startHour && hour < endHour;\n    });\n  };\n  const handleMouseDown = (salle, hour) => {\n    if (isSlotReserved(salle, hour)) {\n      alert('Ce cr√©neau est d√©j√† r√©serv√©');\n      return;\n    }\n    setIsDragging(true);\n    setSelection({\n      salle,\n      startHour: hour,\n      endHour: hour + 1\n    });\n  };\n  const handleMouseEnter = (salle, hour) => {\n    if (!isDragging || !selection) return;\n    if (selection.salle !== salle) return;\n\n    // V√©rifier que tous les cr√©neaux entre le d√©but et cette heure ne sont pas r√©serv√©s\n    const start = Math.min(selection.startHour, hour);\n    const end = Math.max(selection.startHour, hour) + 1;\n    for (let h = start; h < end; h++) {\n      if (isSlotReserved(salle, h)) {\n        return; // Ne pas √©tendre la s√©lection si un cr√©neau est r√©serv√©\n      }\n    }\n    setSelection({\n      ...selection,\n      startHour: start,\n      endHour: end\n    });\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n  const isSlotSelected = (salle, hour) => {\n    if (!selection) return false;\n    return selection.salle === salle && hour >= selection.startHour && hour < selection.endHour;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!selection) {\n      alert('Veuillez s√©lectionner un cr√©neau');\n      return;\n    }\n    if (!formData.nom || !formData.prenom || !formData.email || !formData.service || !formData.objet) {\n      alert('Veuillez remplir tous les champs obligatoires');\n      return;\n    }\n    try {\n      const reservation = {\n        salle: selection.salle,\n        dateDebut: googleSheetsService.formatDate(selectedDate),\n        heureDebut: googleSheetsService.formatTime(selection.startHour),\n        dateFin: formData.recurrence && formData.recurrenceJusquau ? formData.recurrenceJusquau : googleSheetsService.formatDate(selectedDate),\n        heureFin: googleSheetsService.formatTime(selection.endHour),\n        nom: formData.nom,\n        prenom: formData.prenom,\n        email: formData.email,\n        service: formData.service,\n        objet: formData.objet,\n        recurrence: formData.recurrence,\n        recurrenceJusquau: formData.recurrenceJusquau || null\n      };\n\n      // V√©rifier les conflits une derni√®re fois\n      const conflicts = await googleSheetsService.checkConflicts(reservation);\n      if (conflicts.length > 0) {\n        alert('ERREUR: Un conflit de r√©servation a √©t√© d√©tect√©. Veuillez rafra√Æchir la page et r√©essayer.');\n        loadReservations();\n        return;\n      }\n\n      // Ajouter la r√©servation\n      const result = await googleSheetsService.addReservation(reservation);\n      reservation.id = result.id;\n\n      // Envoyer l'email de confirmation\n      try {\n        await emailService.sendConfirmation(reservation);\n      } catch (emailError) {\n        console.error('Erreur email:', emailError);\n        // Ne pas bloquer m√™me si l'email √©choue\n      }\n\n      // R√©initialiser le formulaire\n      setSelection(null);\n      setFormData({\n        nom: '',\n        prenom: '',\n        email: '',\n        service: '',\n        objet: '',\n        recurrence: false,\n        recurrenceJusquau: ''\n      });\n      onSuccess();\n    } catch (error) {\n      alert(`Erreur lors de la r√©servation: ${error.message}`);\n    }\n  };\n  const renderTimeSlots = () => {\n    const slots = [];\n    for (let hour = HORAIRES.HEURE_DEBUT; hour < HORAIRES.HEURE_FIN; hour++) {\n      slots.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"time-label\",\n        children: googleSheetsService.formatTime(hour)\n      }, `time-${hour}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this));\n    }\n    return slots;\n  };\n  const renderGrid = () => {\n    const grid = [];\n    SALLES.forEach(salle => {\n      grid.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"salle-header\",\n        children: salle\n      }, `salle-header-${salle}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this));\n    });\n    for (let hour = HORAIRES.HEURE_DEBUT; hour < HORAIRES.HEURE_FIN; hour++) {\n      SALLES.forEach(salle => {\n        const reserved = isSlotReserved(salle, hour);\n        const selected = isSlotSelected(salle, hour);\n        grid.push(/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `time-slot ${reserved ? 'reserved' : ''} ${selected ? 'selected' : ''}`,\n          onMouseDown: () => handleMouseDown(salle, hour),\n          onMouseEnter: () => handleMouseEnter(salle, hour),\n          onMouseUp: handleMouseUp,\n          children: reserved && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"reserved-indicator\",\n            children: \"R\\xE9serv\\xE9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)\n        }, `slot-${salle}-${hour}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this));\n      });\n    }\n    return grid;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Chargement des r\\xE9servations...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reservation-grid-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"back-button\",\n        children: \"\\u25C0 Retour au calendrier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"R\\xE9servation pour le \", selectedDate.toLocaleDateString('fr-FR', {\n          weekday: 'long',\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric'\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-instructions\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Instructions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), \" Cliquez et glissez pour s\\xE9lectionner un cr\\xE9neau. Les cases grises sont d\\xE9j\\xE0 r\\xE9serv\\xE9es.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reservation-grid\",\n      onMouseLeave: () => setIsDragging(false),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-corner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), renderTimeSlots(), renderGrid()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), selection && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reservation-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCDD Confirmer la r\\xE9servation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selection-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Salle:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 16\n          }, this), \" \", selection.salle]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Horaire:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 16\n          }, this), \" \", googleSheetsService.formatTime(selection.startHour), \" - \", googleSheetsService.formatTime(selection.endHour)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dur\\xE9e:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 16\n          }, this), \" \", selection.endHour - selection.startHour, \"h\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nom *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.nom,\n              onChange: e => setFormData({\n                ...formData,\n                nom: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Pr\\xE9nom *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.prenom,\n              onChange: e => setFormData({\n                ...formData,\n                prenom: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: formData.email,\n            onChange: e => setFormData({\n              ...formData,\n              email: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Service *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.service,\n            onChange: e => setFormData({\n              ...formData,\n              service: e.target.value\n            }),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- S\\xE9lectionner un service --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), SERVICES.map(service => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: service,\n              children: service\n            }, service, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Objet de la r\\xE9servation *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.objet,\n            onChange: e => setFormData({\n              ...formData,\n              objet: e.target.value\n            }),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- S\\xE9lectionner un objet --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this), OBJETS_RESERVATION.map(objet => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: objet,\n              children: objet\n            }, objet, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group checkbox-group\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: formData.recurrence,\n              onChange: e => setFormData({\n                ...formData,\n                recurrence: e.target.checked\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this), \"R\\xE9servation r\\xE9currente (chaque semaine)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this), formData.recurrence && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"R\\xE9currence jusqu'au\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: formData.recurrenceJusquau,\n            onChange: e => setFormData({\n              ...formData,\n              recurrenceJusquau: e.target.value\n            }),\n            min: googleSheetsService.formatDate(selectedDate)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setSelection(null),\n            className: \"cancel-button\",\n            children: \"Annuler la s\\xE9lection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-button\",\n            children: \"\\u2713 Valider ma r\\xE9servation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 5\n  }, this);\n}\n_s(ReservationGrid, \"K7x9bOcEv8DQ2mlxL00zz4OuJig=\");\n_c = ReservationGrid;\nexport default ReservationGrid;\nvar _c;\n$RefreshReg$(_c, \"ReservationGrid\");","map":{"version":3,"names":["React","useState","useEffect","googleSheetsService","emailService","SALLES","SERVICES","OBJETS_RESERVATION","HORAIRES","jsxDEV","_jsxDEV","ReservationGrid","selectedDate","onBack","onSuccess","_s","reservations","setReservations","selection","setSelection","isDragging","setIsDragging","formData","setFormData","nom","prenom","email","service","objet","recurrence","recurrenceJusquau","loading","setLoading","loadReservations","allReservations","getAllReservations","dateStr","formatDate","dayReservations","filter","res","dateDebut","dateFin","error","console","isSlotReserved","salle","hour","some","startHour","parseInt","heureDebut","split","endHour","heureFin","handleMouseDown","alert","handleMouseEnter","start","Math","min","end","max","h","handleMouseUp","isSlotSelected","handleSubmit","e","preventDefault","reservation","formatTime","conflicts","checkConflicts","length","result","addReservation","id","sendConfirmation","emailError","message","renderTimeSlots","slots","HEURE_DEBUT","HEURE_FIN","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","renderGrid","grid","forEach","reserved","selected","onMouseDown","onMouseEnter","onMouseUp","onClick","toLocaleDateString","weekday","year","month","day","onMouseLeave","onSubmit","type","value","onChange","target","required","map","checked","_c","$RefreshReg$"],"sources":["C:/Users/Guyniole/Desktop/reservation-salles/src/components/ReservationGrid.js"],"sourcesContent":["// src/components/ReservationGrid.js\nimport React, { useState, useEffect } from 'react';\nimport googleSheetsService from '../services/googleSheetsService';\nimport emailService from '../services/emailService';\nimport { SALLES, SERVICES, OBJETS_RESERVATION, HORAIRES } from '../config/googleSheets';\nimport './ReservationGrid.css';\n\nfunction ReservationGrid({ selectedDate, onBack, onSuccess }) {\n  const [reservations, setReservations] = useState([]);\n  const [selection, setSelection] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [formData, setFormData] = useState({\n    nom: '',\n    prenom: '',\n    email: '',\n    service: '',\n    objet: '',\n    recurrence: false,\n    recurrenceJusquau: ''\n  });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadReservations();\n  }, [selectedDate]);\n\n  const loadReservations = async () => {\n    try {\n      const allReservations = await googleSheetsService.getAllReservations();\n      const dateStr = googleSheetsService.formatDate(selectedDate);\n      \n      // Filtrer les r√©servations pour la date s√©lectionn√©e\n      const dayReservations = allReservations.filter(res => \n        res.dateDebut === dateStr || \n        (res.dateDebut <= dateStr && res.dateFin >= dateStr)\n      );\n      \n      setReservations(dayReservations);\n      setLoading(false);\n    } catch (error) {\n      console.error('Erreur lors du chargement des r√©servations:', error);\n      setLoading(false);\n    }\n  };\n\n  const isSlotReserved = (salle, hour) => {\n    return reservations.some(res => {\n      if (res.salle !== salle) return false;\n      const startHour = parseInt(res.heureDebut.split(':')[0]);\n      const endHour = parseInt(res.heureFin.split(':')[0]);\n      return hour >= startHour && hour < endHour;\n    });\n  };\n\n  const handleMouseDown = (salle, hour) => {\n    if (isSlotReserved(salle, hour)) {\n      alert('Ce cr√©neau est d√©j√† r√©serv√©');\n      return;\n    }\n    setIsDragging(true);\n    setSelection({\n      salle,\n      startHour: hour,\n      endHour: hour + 1\n    });\n  };\n\n  const handleMouseEnter = (salle, hour) => {\n    if (!isDragging || !selection) return;\n    if (selection.salle !== salle) return;\n\n    // V√©rifier que tous les cr√©neaux entre le d√©but et cette heure ne sont pas r√©serv√©s\n    const start = Math.min(selection.startHour, hour);\n    const end = Math.max(selection.startHour, hour) + 1;\n    \n    for (let h = start; h < end; h++) {\n      if (isSlotReserved(salle, h)) {\n        return; // Ne pas √©tendre la s√©lection si un cr√©neau est r√©serv√©\n      }\n    }\n\n    setSelection({\n      ...selection,\n      startHour: start,\n      endHour: end\n    });\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const isSlotSelected = (salle, hour) => {\n    if (!selection) return false;\n    return (\n      selection.salle === salle &&\n      hour >= selection.startHour &&\n      hour < selection.endHour\n    );\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!selection) {\n      alert('Veuillez s√©lectionner un cr√©neau');\n      return;\n    }\n\n    if (!formData.nom || !formData.prenom || !formData.email || !formData.service || !formData.objet) {\n      alert('Veuillez remplir tous les champs obligatoires');\n      return;\n    }\n\n    try {\n      const reservation = {\n        salle: selection.salle,\n        dateDebut: googleSheetsService.formatDate(selectedDate),\n        heureDebut: googleSheetsService.formatTime(selection.startHour),\n        dateFin: formData.recurrence && formData.recurrenceJusquau \n          ? formData.recurrenceJusquau \n          : googleSheetsService.formatDate(selectedDate),\n        heureFin: googleSheetsService.formatTime(selection.endHour),\n        nom: formData.nom,\n        prenom: formData.prenom,\n        email: formData.email,\n        service: formData.service,\n        objet: formData.objet,\n        recurrence: formData.recurrence,\n        recurrenceJusquau: formData.recurrenceJusquau || null\n      };\n\n      // V√©rifier les conflits une derni√®re fois\n      const conflicts = await googleSheetsService.checkConflicts(reservation);\n      if (conflicts.length > 0) {\n        alert('ERREUR: Un conflit de r√©servation a √©t√© d√©tect√©. Veuillez rafra√Æchir la page et r√©essayer.');\n        loadReservations();\n        return;\n      }\n\n      // Ajouter la r√©servation\n      const result = await googleSheetsService.addReservation(reservation);\n      reservation.id = result.id;\n\n      // Envoyer l'email de confirmation\n      try {\n        await emailService.sendConfirmation(reservation);\n      } catch (emailError) {\n        console.error('Erreur email:', emailError);\n        // Ne pas bloquer m√™me si l'email √©choue\n      }\n\n      // R√©initialiser le formulaire\n      setSelection(null);\n      setFormData({\n        nom: '',\n        prenom: '',\n        email: '',\n        service: '',\n        objet: '',\n        recurrence: false,\n        recurrenceJusquau: ''\n      });\n\n      onSuccess();\n    } catch (error) {\n      alert(`Erreur lors de la r√©servation: ${error.message}`);\n    }\n  };\n\n  const renderTimeSlots = () => {\n    const slots = [];\n    for (let hour = HORAIRES.HEURE_DEBUT; hour < HORAIRES.HEURE_FIN; hour++) {\n      slots.push(\n        <div key={`time-${hour}`} className=\"time-label\">\n          {googleSheetsService.formatTime(hour)}\n        </div>\n      );\n    }\n    return slots;\n  };\n\n  const renderGrid = () => {\n    const grid = [];\n    \n    SALLES.forEach(salle => {\n      grid.push(\n        <div key={`salle-header-${salle}`} className=\"salle-header\">\n          {salle}\n        </div>\n      );\n    });\n\n    for (let hour = HORAIRES.HEURE_DEBUT; hour < HORAIRES.HEURE_FIN; hour++) {\n      SALLES.forEach(salle => {\n        const reserved = isSlotReserved(salle, hour);\n        const selected = isSlotSelected(salle, hour);\n        \n        grid.push(\n          <div\n            key={`slot-${salle}-${hour}`}\n            className={`time-slot ${reserved ? 'reserved' : ''} ${selected ? 'selected' : ''}`}\n            onMouseDown={() => handleMouseDown(salle, hour)}\n            onMouseEnter={() => handleMouseEnter(salle, hour)}\n            onMouseUp={handleMouseUp}\n          >\n            {reserved && (\n              <span className=\"reserved-indicator\">R√©serv√©</span>\n            )}\n          </div>\n        );\n      });\n    }\n\n    return grid;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"spinner\"></div>\n        <p>Chargement des r√©servations...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"reservation-grid-container\">\n      <div className=\"grid-header\">\n        <button onClick={onBack} className=\"back-button\">\n          ‚óÄ Retour au calendrier\n        </button>\n        <h2>\n          R√©servation pour le {selectedDate.toLocaleDateString('fr-FR', {\n            weekday: 'long',\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n          })}\n        </h2>\n      </div>\n\n      <div className=\"grid-instructions\">\n        <p>\n          <strong>Instructions:</strong> Cliquez et glissez pour s√©lectionner un cr√©neau.\n          Les cases grises sont d√©j√† r√©serv√©es.\n        </p>\n      </div>\n\n      <div className=\"reservation-grid\" onMouseLeave={() => setIsDragging(false)}>\n        <div className=\"grid-corner\"></div>\n        {renderTimeSlots()}\n        {renderGrid()}\n      </div>\n\n      {selection && (\n        <div className=\"reservation-form\">\n          <h3>üìù Confirmer la r√©servation</h3>\n          <div className=\"selection-summary\">\n            <p><strong>Salle:</strong> {selection.salle}</p>\n            <p><strong>Horaire:</strong> {googleSheetsService.formatTime(selection.startHour)} - {googleSheetsService.formatTime(selection.endHour)}</p>\n            <p><strong>Dur√©e:</strong> {selection.endHour - selection.startHour}h</p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-row\">\n              <div className=\"form-group\">\n                <label>Nom *</label>\n                <input\n                  type=\"text\"\n                  value={formData.nom}\n                  onChange={(e) => setFormData({ ...formData, nom: e.target.value })}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Pr√©nom *</label>\n                <input\n                  type=\"text\"\n                  value={formData.prenom}\n                  onChange={(e) => setFormData({ ...formData, prenom: e.target.value })}\n                  required\n                />\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Email *</label>\n              <input\n                type=\"email\"\n                value={formData.email}\n                onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                required\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Service *</label>\n              <select\n                value={formData.service}\n                onChange={(e) => setFormData({ ...formData, service: e.target.value })}\n                required\n              >\n                <option value=\"\">-- S√©lectionner un service --</option>\n                {SERVICES.map(service => (\n                  <option key={service} value={service}>{service}</option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Objet de la r√©servation *</label>\n              <select\n                value={formData.objet}\n                onChange={(e) => setFormData({ ...formData, objet: e.target.value })}\n                required\n              >\n                <option value=\"\">-- S√©lectionner un objet --</option>\n                {OBJETS_RESERVATION.map(objet => (\n                  <option key={objet} value={objet}>{objet}</option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"form-group checkbox-group\">\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={formData.recurrence}\n                  onChange={(e) => setFormData({ ...formData, recurrence: e.target.checked })}\n                />\n                R√©servation r√©currente (chaque semaine)\n              </label>\n            </div>\n\n            {formData.recurrence && (\n              <div className=\"form-group\">\n                <label>R√©currence jusqu'au</label>\n                <input\n                  type=\"date\"\n                  value={formData.recurrenceJusquau}\n                  onChange={(e) => setFormData({ ...formData, recurrenceJusquau: e.target.value })}\n                  min={googleSheetsService.formatDate(selectedDate)}\n                />\n              </div>\n            )}\n\n            <div className=\"form-actions\">\n              <button type=\"button\" onClick={() => setSelection(null)} className=\"cancel-button\">\n                Annuler la s√©lection\n              </button>\n              <button type=\"submit\" className=\"submit-button\">\n                ‚úì Valider ma r√©servation\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ReservationGrid;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}