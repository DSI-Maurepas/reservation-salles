{"ast":null,"code":"// src/services/emailService.js\nimport emailjs from 'emailjs-com';\nimport { EMAIL_CONFIG } from '../config/googleSheets';\nclass EmailService {\n  // Envoyer un email de confirmation de réservation\n  async sendConfirmation(reservation) {\n    try {\n      const templateParams = {\n        to_email: reservation.email,\n        to_name: `${reservation.prenom} ${reservation.nom}`,\n        salle: reservation.salle,\n        date_debut: reservation.dateDebut,\n        heure_debut: reservation.heureDebut,\n        date_fin: reservation.dateFin,\n        heure_fin: reservation.heureFin,\n        service: reservation.service,\n        objet: reservation.objet,\n        reservation_id: reservation.id\n      };\n      await emailjs.send(EMAIL_CONFIG.SERVICE_ID, EMAIL_CONFIG.TEMPLATE_ID_CONFIRMATION, templateParams, EMAIL_CONFIG.USER_ID);\n      return {\n        success: true\n      };\n    } catch (error) {\n      console.error('Erreur lors de l\\'envoi de l\\'email de confirmation:', error);\n      throw error;\n    }\n  }\n\n  // Envoyer un email d'annulation de réservation\n  async sendCancellation(reservation, raison = '') {\n    try {\n      const templateParams = {\n        to_email: reservation.email,\n        to_name: `${reservation.prenom} ${reservation.nom}`,\n        salle: reservation.salle,\n        date_debut: reservation.dateDebut,\n        heure_debut: reservation.heureDebut,\n        date_fin: reservation.dateFin,\n        heure_fin: reservation.heureFin,\n        raison: raison || 'Annulation par l\\'administrateur'\n      };\n      await emailjs.send(EMAIL_CONFIG.SERVICE_ID, EMAIL_CONFIG.TEMPLATE_ID_ANNULATION, templateParams, EMAIL_CONFIG.USER_ID);\n      return {\n        success: true\n      };\n    } catch (error) {\n      console.error('Erreur lors de l\\'envoi de l\\'email d\\'annulation:', error);\n      throw error;\n    }\n  }\n\n  // Initialiser EmailJS\n  init() {\n    emailjs.init(EMAIL_CONFIG.USER_ID);\n  }\n}\nexport default new EmailService();","map":{"version":3,"names":["emailjs","EMAIL_CONFIG","EmailService","sendConfirmation","reservation","templateParams","to_email","email","to_name","prenom","nom","salle","date_debut","dateDebut","heure_debut","heureDebut","date_fin","dateFin","heure_fin","heureFin","service","objet","reservation_id","id","send","SERVICE_ID","TEMPLATE_ID_CONFIRMATION","USER_ID","success","error","console","sendCancellation","raison","TEMPLATE_ID_ANNULATION","init"],"sources":["c:/Users/Guyniole/Desktop/reservation-salles/src/services/emailService.js"],"sourcesContent":["// src/services/emailService.js\nimport emailjs from 'emailjs-com';\nimport { EMAIL_CONFIG } from '../config/googleSheets';\n\nclass EmailService {\n  // Envoyer un email de confirmation de réservation\n  async sendConfirmation(reservation) {\n    try {\n      const templateParams = {\n        to_email: reservation.email,\n        to_name: `${reservation.prenom} ${reservation.nom}`,\n        salle: reservation.salle,\n        date_debut: reservation.dateDebut,\n        heure_debut: reservation.heureDebut,\n        date_fin: reservation.dateFin,\n        heure_fin: reservation.heureFin,\n        service: reservation.service,\n        objet: reservation.objet,\n        reservation_id: reservation.id\n      };\n\n      await emailjs.send(\n        EMAIL_CONFIG.SERVICE_ID,\n        EMAIL_CONFIG.TEMPLATE_ID_CONFIRMATION,\n        templateParams,\n        EMAIL_CONFIG.USER_ID\n      );\n\n      return { success: true };\n    } catch (error) {\n      console.error('Erreur lors de l\\'envoi de l\\'email de confirmation:', error);\n      throw error;\n    }\n  }\n\n  // Envoyer un email d'annulation de réservation\n  async sendCancellation(reservation, raison = '') {\n    try {\n      const templateParams = {\n        to_email: reservation.email,\n        to_name: `${reservation.prenom} ${reservation.nom}`,\n        salle: reservation.salle,\n        date_debut: reservation.dateDebut,\n        heure_debut: reservation.heureDebut,\n        date_fin: reservation.dateFin,\n        heure_fin: reservation.heureFin,\n        raison: raison || 'Annulation par l\\'administrateur'\n      };\n\n      await emailjs.send(\n        EMAIL_CONFIG.SERVICE_ID,\n        EMAIL_CONFIG.TEMPLATE_ID_ANNULATION,\n        templateParams,\n        EMAIL_CONFIG.USER_ID\n      );\n\n      return { success: true };\n    } catch (error) {\n      console.error('Erreur lors de l\\'envoi de l\\'email d\\'annulation:', error);\n      throw error;\n    }\n  }\n\n  // Initialiser EmailJS\n  init() {\n    emailjs.init(EMAIL_CONFIG.USER_ID);\n  }\n}\n\nexport default new EmailService();\n"],"mappings":"AAAA;AACA,OAAOA,OAAO,MAAM,aAAa;AACjC,SAASC,YAAY,QAAQ,wBAAwB;AAErD,MAAMC,YAAY,CAAC;EACjB;EACA,MAAMC,gBAAgBA,CAACC,WAAW,EAAE;IAClC,IAAI;MACF,MAAMC,cAAc,GAAG;QACrBC,QAAQ,EAAEF,WAAW,CAACG,KAAK;QAC3BC,OAAO,EAAE,GAAGJ,WAAW,CAACK,MAAM,IAAIL,WAAW,CAACM,GAAG,EAAE;QACnDC,KAAK,EAAEP,WAAW,CAACO,KAAK;QACxBC,UAAU,EAAER,WAAW,CAACS,SAAS;QACjCC,WAAW,EAAEV,WAAW,CAACW,UAAU;QACnCC,QAAQ,EAAEZ,WAAW,CAACa,OAAO;QAC7BC,SAAS,EAAEd,WAAW,CAACe,QAAQ;QAC/BC,OAAO,EAAEhB,WAAW,CAACgB,OAAO;QAC5BC,KAAK,EAAEjB,WAAW,CAACiB,KAAK;QACxBC,cAAc,EAAElB,WAAW,CAACmB;MAC9B,CAAC;MAED,MAAMvB,OAAO,CAACwB,IAAI,CAChBvB,YAAY,CAACwB,UAAU,EACvBxB,YAAY,CAACyB,wBAAwB,EACrCrB,cAAc,EACdJ,YAAY,CAAC0B,OACf,CAAC;MAED,OAAO;QAAEC,OAAO,EAAE;MAAK,CAAC;IAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sDAAsD,EAAEA,KAAK,CAAC;MAC5E,MAAMA,KAAK;IACb;EACF;;EAEA;EACA,MAAME,gBAAgBA,CAAC3B,WAAW,EAAE4B,MAAM,GAAG,EAAE,EAAE;IAC/C,IAAI;MACF,MAAM3B,cAAc,GAAG;QACrBC,QAAQ,EAAEF,WAAW,CAACG,KAAK;QAC3BC,OAAO,EAAE,GAAGJ,WAAW,CAACK,MAAM,IAAIL,WAAW,CAACM,GAAG,EAAE;QACnDC,KAAK,EAAEP,WAAW,CAACO,KAAK;QACxBC,UAAU,EAAER,WAAW,CAACS,SAAS;QACjCC,WAAW,EAAEV,WAAW,CAACW,UAAU;QACnCC,QAAQ,EAAEZ,WAAW,CAACa,OAAO;QAC7BC,SAAS,EAAEd,WAAW,CAACe,QAAQ;QAC/Ba,MAAM,EAAEA,MAAM,IAAI;MACpB,CAAC;MAED,MAAMhC,OAAO,CAACwB,IAAI,CAChBvB,YAAY,CAACwB,UAAU,EACvBxB,YAAY,CAACgC,sBAAsB,EACnC5B,cAAc,EACdJ,YAAY,CAAC0B,OACf,CAAC;MAED,OAAO;QAAEC,OAAO,EAAE;MAAK,CAAC;IAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oDAAoD,EAAEA,KAAK,CAAC;MAC1E,MAAMA,KAAK;IACb;EACF;;EAEA;EACAK,IAAIA,CAAA,EAAG;IACLlC,OAAO,CAACkC,IAAI,CAACjC,YAAY,CAAC0B,OAAO,CAAC;EACpC;AACF;AAEA,eAAe,IAAIzB,YAAY,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}