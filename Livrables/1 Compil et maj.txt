# 1. Navigation vers le dossier du projet
# (Note : sur Git Bash, C: devient /c/)
cd /c/dev/reservation-salles

# 2. Compilation de l'application
# Cela va crÃ©er un dossier 'build' optimisÃ© pour la production
echo "ğŸ”¨ DÃ©marrage de la compilation..."
npm run build

# 3. PrÃ©paration du dossier 'docs'
# On supprime l'ancien dossier docs s'il existe pour Ã©viter les conflits
if [ -d "docs" ]; then
  rm -rf docs
fi

# On renomme le dossier 'build' (ou 'dist') fraÃ®chement crÃ©Ã© en 'docs'
if [ -d "build" ]; then
  mv build docs
  echo "âœ… Dossier 'build' renommÃ© en 'docs'"
elif [ -d "dist" ]; then
  mv dist docs
  echo "âœ… Dossier 'dist' renommÃ© en 'docs'"
else
  echo "âŒ Erreur : La compilation semble avoir Ã©chouÃ© (pas de dossier build/dist)."
  exit 1
fi

# 4. Envoi sur GitHub (Git)
echo "ğŸ“¦ Envoi vers GitHub..."
git add .
git commit -m "Mise Ã  jour : Compilation et dÃ©ploiement vers /docs"
git push origin main

echo "ğŸš€ TerminÃ© ! Votre application a Ã©tÃ© compilÃ©e et envoyÃ©e."