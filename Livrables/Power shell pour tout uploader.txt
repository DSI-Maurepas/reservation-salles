# SCRIPT UPLOAD GITHUB - RÃ©servation Salles Maurepas
# Sauvegarder ce script sous : upload-github.ps1

# Configuration (MODIFIER AVEC VOS INFOS)
$GITHUB_USERNAME = "VOTRE_USERNAME"
$GITHUB_REPO = "reservation-salles-maurepas"
$YOUR_NAME = "Votre Nom"
$YOUR_EMAIL = "votre.email@maurepas.fr"

Write-Host "ğŸš€ DÃ©but du processus d'upload vers GitHub..." -ForegroundColor Green

# 1. Aller dans le dossier
cd c:\dev\reservation-salles

# 2. VÃ©rifier que .gitignore existe
if (-not (Test-Path ".gitignore")) {
    Write-Host "âš ï¸  CrÃ©ation de .gitignore..." -ForegroundColor Yellow
    @"
node_modules/
build/
.env
src/config/googleSheets.js
"@ | Out-File -FilePath .gitignore -Encoding UTF8
}

# 3. Configurer Git
Write-Host "ğŸ”§ Configuration Git..." -ForegroundColor Cyan
git config --global user.name "$YOUR_NAME"
git config --global user.email "$YOUR_EMAIL"

# 4. Initialiser Git (si pas dÃ©jÃ  fait)
if (-not (Test-Path ".git")) {
    Write-Host "ğŸ“‚ Initialisation Git..." -ForegroundColor Cyan
    git init
}

# 5. Compiler l'application
Write-Host "ğŸ“¦ Compilation de l'application..." -ForegroundColor Cyan
npm run build

# 6. Ajouter tous les fichiers
Write-Host "ğŸ“¥ Ajout des fichiers..." -ForegroundColor Cyan
git add .

# 7. CrÃ©er le commit
Write-Host "ğŸ’¾ CrÃ©ation du commit..." -ForegroundColor Cyan
git commit -m "Initial commit - Application rÃ©servation salles Maurepas v1.0"

# 8. Lier au dÃ©pÃ´t distant
Write-Host "ğŸ”— Liaison au dÃ©pÃ´t GitHub..." -ForegroundColor Cyan
git remote add origin "https://github.com/$GITHUB_USERNAME/$GITHUB_REPO.git"

# 9. DÃ©finir la branche
git branch -M main

# 10. Pousser vers GitHub
Write-Host "ğŸš€ Upload vers GitHub..." -ForegroundColor Green
git push -u origin main

Write-Host "âœ… Upload terminÃ© avec succÃ¨s !" -ForegroundColor Green
Write-Host "ğŸŒ Voir sur : https://github.com/$GITHUB_USERNAME/$GITHUB_REPO" -ForegroundColor Cyan